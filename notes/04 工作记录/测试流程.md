### 美团测试流程
需求线下提，没有统一管理。研发流程在TAPD和其它工具中，需要迁移Ones。已迁移

1.需求承接
统一由PM承接，后指派给技术，实施工单Ones项目空间：https://ones.sankuai.com/ones/product/13120/projectdetail。

还未评审需求，Ones需求指派至PM

1)技术类需求

   a.内部技改优化，可研发自主在Ones提需求，需同步PM

   b.配合外部改造，需提交至PM后，按优先级排期

2)产品需求

   统一PM提交至Ones

2.需求评审
需求评审以后，指派至对应RD，PM验收bug提交至Ones，和需求关联

需求评审PM需提前1日发PRD文件。

3.设计评审(排期确认)
设计评审时需要同步灰度方案

4.用例评审
提前1日预约会议，项目群周知测试文档。

5.提测流程
PM,交互验收通过，RD提测

http://qa.sjst.test.sankuai.com/to_test_page  调整至Ones

提测标准：全量行覆盖率70%，全量方法覆盖率90%，增量行覆盖率70%，增量分支覆盖率70%

增量覆盖率为提测门禁。。。全量覆盖率为年度目标。

6.冒烟测试
P0不通过提测打回

7.CodeReview
codereview及修复review建议。时间不能超过一轮测试终止时间（与测试阶段可能是同步，也可能在测试前完成，最好在测试过半前完成）

8.测试阶段
两轮业务测试，Feature分支，泳道环境，一轮测试完成，bug收敛后二轮测试（目前是功能测试+bugfix测试）

一轮集成测试，Release分支，泳道环境

Feature分支和Release使用同一个泳道，修改泳道测试服务分支

QA每日发送项目测试报告同步进度及风险点。

9.ST，灰度验证(2天左右)，不纳入测试排期

10.质量报告
测试排期3日以下不发送项目质量报告，测试排期3日以上发送质量报告。（每日仍有进度报告）

餐饮生态收单技术部
差异在步骤8:1. test环境测试、st回归、线上回归
2. ST回归纳入排期

### 其他公司流程参考
#### 蚂蚁(存款理财-产品层)  LINKE和Aone结合。https://tech.antfin.com/products/LinkE

学城相关：美团内DevOps调研分析    

1.需求评审

2.系分评审

3.测分评审

4.CodeReview

5.提测，单测覆盖率80%，代码才能部署到SIT环境。RD发提测邮件

6.冒烟测试，冒烟测试通过回复邮件，提测通过。也有检查RD提供的测试数据确认提测通过

7.SIT测试

8.ST测试，SIT的bug未全部关闭，无法推进到ST阶段。

9.发布申请，QA邮件申请，描述项目质量。单测截图，新增核对部署情况，新增全链路接口case情况。

10.Beta发布

11.全量发布

12.灰度切流

13.部署Stable环境

流程文档.txt
5.51KB
​

#### 宜信(支付结算-基础服务层)，蓝鲸发布

1.需求评审

2.设计评审

3.用例评审

4.提测，接口case通过

5.冒烟测试

6.集成测试，Test环境，工具执行

7.预发测试，自动化回归case。

8.上线，自动化回归case


流程文档
一个完整的项目从开始至最终上线的流程
====需求调研
====需求评审
====详细设计，系分评审
====代码开发（包含单元测试）
====测分评审，用例准备
====CR
====dev联调（开发联调）
====冒烟测试
====sit测试（包括本迭代测试和回归测试）
====发布计划评审
====预发布验证
====beta
====灰度
====全量



开发阶段：
0、需求评审阶段
	1、不要私接需求，有需求可以在PM处进行统一排期
	2、不要拍脑袋给工作量评估，可以给一个大概的预估，同时需要系分清楚系统后才能给出准确的时间
	3、如PD找研发&测试进行需求串讲，请研发&测试及时同步需求，保证两个角色对需求有一个大致的了解

1、系分环节
	1、考虑系分文档是否完整，上下游是否影响，异常场景是否考虑；
	2、当涉及到上下游系统时，务必通知上下游研发&测试来参与系分，如果不知道找谁，请咨询PM&TL
	3、在需要设置监控点，需要提出让研发补充监控；

2、CodeReview
	1、本期改动的代码&核心接口用例，均需要进行CR；
	2、CR过程中核心开发&测试人员必须在场；


3、测分环节
	1、考虑上下游是否有强依赖；
	2、考虑新功能对历史监控、历史核对的影响；
	3、测分过程中请明确各里程碑时间点（提测、合并、预发、上线）
	4、考虑上线步骤&参数配置
	5、在测分中务必考虑下游系统timeout的情况
	eg：https://lark.alipay.com/mybankbj/yulibao/fs6cdq

4、开发&测试 环境 重启&代码分支 切换 
	1、务必在对应系统的开发&测试群中同步上下游同学，以及本系统的其他同学

5、需求在开发过程中发生变化时
	1、变更可能影响上下游：方案讨论过程中务必叫上下游一起参与方案的评审
	2、如果变更对整体排期有挑战：立即同步PM与相关TL
	3、发生需求变更请务必同步相关TL

6、实现过程中需求发现方案不合理需要进行调整&或者有需要优化的点
	1、务必同步本系统的测试同学，并针对变化评估影响面，以及制定验证方案 
	2、需求调整，代码优化也要考虑是否对上下游有影响，比如幂等规则的变化，接口字段的变化

7、项目进展不顺利
	1、当项目进展不顺利时，请先将block的问题整理出来，然后同步给PM、项目owner以及相关TL

8、代码合并&预发
	1、合并&预发之前请确认
		1、通过率100%，覆盖率满足本系统要求 
		2、无白盒问题
		3、无findbug问题
		4、无PMD问题

9、发布计划评审  
	0、三板斧一定要有，尤其是回滚和应急预案，预发环境的定时任务一定要关闭
	1、发布计划必须进行集体评审，关键系统人员都必须参加确认，计划步骤和参数等必须双人复核
	2、发布完成后，对步骤和线上参数等必须双人复核
	3、上下游系统的发布顺序，以及是否有强依赖
	4、新功能对核对（历史、本次是否需要新增加）和监控（历史、本次是否需要新增加）的影响
	5、本次发布过程需要做特殊处理的步骤，比如订正或者推送DRM，需要明确责任人，并进行double check

10、发布过程
	1、发布前一定要在运维群里周知所有人，开始发布，防止上下游系统突然出现问题，不知道是哪里引起的
	2、当beta确认后，要第一时间在群里周知大家beta确认，防止上下游系统突然出现问题，不知道是哪里引起的

11、定时任务发布上线
	1、AONE上新增调度任务没办法指定策略脚本（机房），刚发上去还没来得及改。新增调度任务时注意发布的时候先不启动，等脚本改了再启动

上线后：

1、新增核对&监控
	1、新增核对&监控，在线上有数据后，务必确认核对和监控正常运行
	2、新增核对需要测试组内相互review

2、DRM推送 ---非持久的DRM一定要在功能OK后恢复默认值
	1、线上DRM推送务必在流程平台上提交申请，走流程推送，并进行double check

3、线上订正
	1、线上订正需要先在线下与对应QA同步订正原因与影响范围，并review sql正确性

4、应急平台推送
	1、值班长结合当前问题情况进行推送

5、线上监控问题跟进
	1、线上监控报警时，请值班同学第一时间在群里同步问题跟进进度
	2、如果没时间跟进，请第一时间指定其他人进行跟进

6、线上核对问题跟进
	1、线上核对报警时，高优先级核对请在三小时内处理完成，低优先级核对请当前处理完成
	2、如果需要更长时间处理，请在群里同步进展

7、定时任务的开启&关闭
	1、当线上异步任务或者出现问题时，先反馈给对应的TL，确认最终解决方案，如果需要关闭异步任务，可以联系值班的PE同学，让其协助关闭异步任务调度

8、线上突发问题
	1、线上问题永远是一位的，有冲突时，优先处理线上问题---止血永远是第一位的
	2、当遇到线上突发问题，先跟进问题，同时马上在线上运维群里反馈问题跟进进度，并反馈给相关TL；
	3、线上问题解决后，必须跟进出问题的根本原因、以及影响面和后续方案

9、已知问题优化
	1、需要给出明确的时间，并持续跟进


各系统特定问题：
1、理财系统
	1、理财系统启动时，异步线程池与DRM初始化存在乱序的问题，发布后需要确认线程池是否初始化成功
