### 赛马次数
> 有 25 匹马和 5 条赛道，赛马过程无法进行计时，只能知道相对快慢。问最少需要几场赛马可以知道前 3 名。

思路：
先把 25 匹马分成 5 组，进行 5 场赛马，得到每组的排名。再将每组的第 1 名选出，进行 1 场赛马，按照这场的排名将 5 组先后标为 A、B、C、D、E。可以知道，A 组的第 1 名就是所有 25 匹马的第 1 名。而第 2、3 名只可能在 A 组的 2、3 名，B 组的第 1、2 名，和 C 组的第 1 名，总共 5 匹马，让这 5 匹马再进行 1 场赛马，前两名就是第 2、3 名。所以总共是 5+1+1=7 场赛马。

### 12球称重
> 12 个外表一样的小球，其中 11 个球重量相同 1 个球为[异常球]，可能重量比较重也可能比较轻，如何利用天平称重 3 次来找出这个[异常球]?

思路： 
**第一次称重**
先将 12 个球分成三组，拿第一组和第二组放到天平上称
第一组： 1, 2, 3, 4
第二组： 5, 6, 7, 8
第三组： 9, 10, 11, 12

情况一: 重量一样，则异常球在第三组中，拿三个正常球 1,2,3 和 9,10,11 称：
1. 1,2,3 和 9,10,11 的重量一样，则 12 号是异常球，
2. 1,2,3 和 9,10,11 的重量一样，则可以知道异常球是更轻还是更重，假设异常球更重，拿两个球 9,10 称：一样则 11 异常， 否则就是更重的是异常球。

情况二：左边重或右边重，则异常球在第一组或第二组中，现在以左边重为例，那么要么是 1,2,3,4 异常重，要么是 5,6,7,8 异常轻

**第二次称重**
加入一个正常球，对 {1,2,3,4,5,6,7,8, 正常} 重新分为 3 组：
第一组： 1, 6, 3
第二组： 5, 2, 正常
第三组： 4, 7, 8

称第一组和第二组：
1. 若平衡，则异常球在 4,7,8 中，要么是 4 号异常重，要么是 7,8 异常轻。**第三次称重**，称 7 和 8，若平衡，则 4 号异常重，否则是轻的那个是异常球

2. 若还是左边重，说明 2,6 是正常的，互换之后没有改变结果，因此要么是 1,3 异常重，要么是 5 异常轻

3. 若发生反转，右边更重，则异常球就在 2,6 之中，要么是 2 号异常重，要么是 6 号异常轻。

#### 称球问题总结
若在最多 (3^n − 3)/2 个球中有一个特殊球的重量与众不同（不知道偏重还是偏轻），而其他球的重量全部相同 则用无砝码的天平称 n 次可以找出特殊球，并确定特殊球是偏轻还是偏重。

若有 (3^n − 1)/2 个球，则同样可以保证找出特殊球，但不一定能确定特殊球是偏轻还是偏重。

### 药丸称重
> 有 20 瓶药丸，其中 19 瓶药丸质量相同为 1 克，剩下一瓶药丸质量为 1.1 克。瓶子中有无数个药丸。要求用一次天平找出药丸质量 1.1 克的药瓶。

思路： 从药丸的数量上来制造差异，第 1 瓶取 1 个药丸，第 2 瓶取 2 个药丸，第 i 瓶取 i 个药丸，一起称重，得到的结果是 0.1 的几倍数，那么就找出了这瓶是 1.1 克的药瓶。

### 得到 4 升的水
> 有两个杯子，容量分别为 5 升和 3 升，水的供应不断。问怎么用这两个杯子得到 4 升的水。

思路： 可以理解为用若干个 5 和 3 做减法得到 4。
1. 将 5 升水倒入 3 升杯子中，剩 2 升
2. 把 3 升杯子里的水倒掉，把 2 升水倒进去
3. 5 升杯子盛满，倒 1 升水到 3 升杯子中，此时 3 升杯子满，5 升杯子中有 4 升水。

### 扔鸡蛋
> 一栋楼有 100 层，在第 N 层或者更高扔鸡蛋会破，而第 N 层往下则不会。给 2 个鸡蛋，求 N，要求最差的情况下扔鸡蛋的次数最少。

思路：
可以将楼层划分成多个区间，第一个鸡蛋 E1 用来确定 N 属于哪个区间，第二个鸡蛋 E2 按顺序遍历该区间找到 N。那么问题就转换为怎么划分区间满足最坏情况下扔鸡蛋次数最少。

E1 需要从第一个区间开始遍历到最后一个区间。如果按等大小的方式划分区间，即 E2 的遍历次数固定。那么最坏的情况是 N 在最后一个区间，此时 E1 遍历的次数最多。比如平均划分 10 个区间，那么最坏情况下最少要扔 18 次（9+9）。

为了使最坏情况下 E1 和 E2 总共遍历的次数比较少，那么后面的区间大小要比前面的区间更小。具体来说，E1 每多遍历一次，E2 要少遍历一次，才使得 N 无论在哪个区间，总共遍历的次数一样。设第一个区间大小为 X，那么第二个区间的大小为 X-1，以此类推。那么 X + (X-1) + (X-2) + … + 1 = 100，得到 X (X + 1) / 2 = 100 ，即 X = 14。

[14, 27, 39, 50, 60, 69, 77, 84, 90, 95, 99, 100]，最差的时候需要 14 次可得到答案。

公式推导：
设 x 为鸡蛋数，y 为扔的次数，F 为 x 个鸡蛋扔 y 次能测的楼层数，则 F = f(x, y)
f(1, 1) = 1
f(1, n) = n
f(2, 1) = 1
f(2, n) = 1 + f(1, n-1) + f(2, n-1) 扔一次，破了之后还能测的楼层数 + 没破还能测的楼层数
经过推导之后得到的公式为 f(2, n) = n * (n+1) / 2

### 开关问题
> 有 100 盏灯泡，第一轮点亮所有电灯，第二轮改变编号为 2 的倍数的电灯状态，第 i 轮改变编号为 3 的倍数的电灯状态，以此类推，直到第 100 轮。第 100 结束后，还有多少盏灯泡是亮的？

思路： 某盏灯最后亮着，那么这盏等被切换了奇数次。
比如第 15 盏灯，它会在第 1，3，5，15 轮被切换，也就是它的所有因数的时候，这盏灯最后是灭的。
由于因数都是成对出现的，要想因数的总个数是奇数，那么就得有两个相同的因数，这样只有改变一次状态。
因此当 x 是**完全平方数**时，它的因数总个数为奇数。

最后，1,4,9,16,25,36,49,64,81,100 这些灯是亮着的。

### 老鼠毒药
1000 瓶水，中间有一瓶有毒，有一批小老鼠可以试验，老鼠喝了毒水一个小时就会死，请问一个小时找出有毒的水至少需要多少老鼠。

答案： 至少需要 10 只老鼠，可以检测 1000 瓶水。

我们用 8 瓶水，1 瓶有毒来说明。 这至少需要 3 只老鼠。

思路： 每个老鼠只有死或活 2 种状态，因此每个老鼠可以看作一个 bit，取 0 或 1。N 个老鼠可以看作 N 个 bit，可以表达 2^N 种状态。 用 0-7 的二进制表示八个瓶子：
```
000 = 0号瓶
001 = 1号瓶
010 = 2号瓶
011 = 3号瓶
100 = 4号瓶
101 = 5号瓶
110 = 6号瓶
111 = 7号瓶
```
将 1,3,5,7 号瓶混合起来给 1 号老鼠吃
将 2,3,6,7 号瓶混合起来给 2 号老鼠吃
将 4,5,6,7 号瓶混合起来给 3 号老鼠吃

某个老鼠死了，都在某位上置 1。假如 1,3 号老鼠死了，2 号没死，那就是 101 = 5,也就是 5 号瓶有毒。

因此 n 只老鼠最多可以检测 2^n 个瓶子。

### N瓶粉末，其中N-1瓶是盐，另一瓶和盐的唯一区别是放入水中一小时后会变蓝。问：需多少个碗装水能在一小时内测出该瓶粉末？
答：最少需要 log2N 个碗
将 N 瓶粉末编号为 1,2,3...,n，将其转化为对应的二进制数，碗的数量就是 n 的二进制的长度（前置 0 不要），假设二进制中的第 i 位为 1，那么就把这瓶粉末倒入第 i 个碗中，这样把所有的粉末倒完之后，有一系列碗里的水变蓝，记录下这些碗的编号，然后在二进制对应的位置置 1，就得到不是盐的粉末的二进制，再转为十进制就是该粉末的编号。n 的二进制有 log2N 位，因此最少需要 log2N 个碗。

### 瓶盖问题 
> 一元钱买一瓶水，2个盖子换一瓶水。20块能买几瓶水

总共能买 40 瓶水。 一直除 2 算到最后是： 39 瓶水和 1 个瓶盖，向老板借 1 瓶，喝完把 2 个瓶盖再给他。

### n 的阶乘中 0 的个数
思路： 只有 2 * 5 会出现 0，因此直接计算 n 的阶乘里面有多少个 5（2 的个数肯定比 5 更多）。

要注意的是 25 里面有 2 个 5， 125 里面有 3 个 5。 因此最后的个数是 n//5 + n//5//5 + ...

### 烧绳子得到15分钟
>  一根粗细不均匀的绳子，从头到尾烧完要一小时。如何作15分钟计时？

烧两根绳子
1. 首先第一根两头一起点，第二根点一头，那第一根烧完时是半个小时
2. 将第二根的另一头点燃，从此时计时到最后烧完，是 15 分钟

### 井盖为什么是圆的
1. 井道大都是圆形的，所以井盖就做成圆形的。
2. 受力均匀，不容易碎裂和塌陷
3. 圆形井盖从任何方向都不会掉落井下，而矩形对角线的长度都大于矩形的长和宽，所以在对角线方向把井盖竖起来就容易掉落井下。
4. 节省材料，相对于矩形或者正方形，矩形内切圆形的面积最小，生成用的材料也更少。

### 圆桌放硬币
> 一个圆桌，两个人往上放硬币，只能平铺不能重合，最后一个放的人胜利（接下来硬币无处可放了），问先放的赢还是后放的赢。

先放的赢，只要先手把硬币放在圆桌正中心，因为除了圆心之外，其余的每个位置都会一个对称位置，随后第二个人无论把硬币放在哪，第一个人都把硬币放在对称的位置即可。
